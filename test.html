<!DOCTYPE html>
<html lang="en">

<head>
	<title>nodular test</title>
	<link rel="stylesheet" href="style.css">
	<link rel="stylesheet" href="test.css">
	<link rel="icon" href="n.svg">
</head>

<body>
	<div id="canvas">
		<div class="zoom">
			<div class="zoombox">
				<div class="zoomin"></div>
			</div>
			<div class="zoombox">
				<p class="zoomamount">100%</p>
			</div>
			<div class="zoombox">
				<div class="zoomout"></div>
			</div>
			<div class="zoombox">
				<div class="maximize"></div>
			</div>
		</div>
	</div>
</body>
<script src="nodular.js"></script>
<script>
	var canvas = new Canvas("canvas");

	var n1 = new Node("node 1");
	var n2 = new Node("node 2");
	var n3 = new Node("node 3");
	var n4 = new Node("node 4");

	canvas.add(n1);
	canvas.add(n2);
	canvas.add(n3);
	canvas.add(n4);

	n1.moveTo(200, 150);
	n2.moveTo(550, 300);
	n3.moveTo(200, 350);
	n4.moveTo(900, 350);

	n1.addOutput("5");


	n2.addInput("ADD");
	n2.addInput("ADD");

	n3.addOutput("3");


	n1.setFunc(function () { return 5; });
	n3.setFunc(function () { return 3; });
	n2.setFunc(function (a, b) { console.log(a + b); });
	canvas.connect(n1.outputs[0], n2.inputs[0]);
	canvas.connect(n3.outputs[0], n2.inputs[1]);

	function lineFeed() {
		document.getElementsByClassName("linec")[0].innerHTML = Array.from(Array(document.getElementsByClassName("idecode")[0].value.split("\n").length)).map((e, i) => i + 1).join("<br>");
	}
	// https://jsfiddle.net/52s03Lyz/ - code mirror
	// https://jsfiddle.net/6p7ucs2d/ - grid change

</script>

</html>